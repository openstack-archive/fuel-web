{
  "NameAndRelease": {
    "name": {
      "type": "custom",
      "bind": "cluster:name"
    },
    "release" : {
      "type": "custom",
      "bind": {"id": "cluster:release"},
      "map_attributes": {
        "operating_system": "NameAndRelease.release__operating_system",
        "roles": "NameAndRelease.release__roles"
      }
    }
  },
  "Mode": {
    "mode": {
      "type": "radio",
      "value": "multinode",
      "bind": "cluster:mode",
      "values": [
        {
          "data": "multinode",
          "label": "cluster.mode.multinode"
        },
        {
          "data": "ha_compact",
          "label": "cluster.mode.ha_compact"
        }
      ]
    }
  },
  "Compute": {
    "hypervisor": {
      "type": "radio",
      "value": "qemu",
      "bind": "settings:common.libvirt_type.value",
      "values": [
        {
          "data": "kvm",
          "label": "dialog.create_cluster_wizard.compute.kvm_title",
          "description": "dialog.create_cluster_wizard.compute.kvm_description"
        },
        {
          "data": "qemu",
          "label": "dialog.create_cluster_wizard.compute.qemu_title",
          "description": "dialog.create_cluster_wizard.compute.qemu_description"
        }
      ]
    }
  },
  "Network": {
    "manager": {
      "type": "radio",
      "value": "nova-network",
      "values": [
        {
          "data": "nova-network",
          "label": "dialog.create_cluster_wizard.network.nova_network",
          "bind": [
            {"cluster:net_provider": "nova_network"}
          ]
        },
        {
          "data": "neutron-gre",
          "label": "dialog.create_cluster_wizard.network.neutr_gre",
          "restrictions": {
            "conflicts": [{
              "condition": {"NameAndRelease.release__operating_system": "RHEL"},
              "warning": "dialog.create_cluster_wizard.network.alert"
            }]
          },
          "bind": [
            {"cluster:net_provider": "neutron"},
            {"cluster:net_segment_type": "gre"}
          ]
        },
        {
          "data": "neutron-vlan",
          "label": "dialog.create_cluster_wizard.network.neutr_vlan",
          "restrictions": {
            "conflicts": [{
              "condition": {"NameAndRelease.release__operating_system": "RHEL"},
              "warning": "dialog.create_cluster_wizard.network.alert"
            }]
          },
          "bind": [
            {"cluster:net_provider": "neutron"},
            {"cluster:net_segment_type": "vlan"}
          ]
        }
      ]
    }
  },
  "Storage": {
    "cinder": {
      "type": "radio",
      "value": "default",
      "values": [
        {
          "data": "default",
          "label": "dialog.create_cluster_wizard.storage.default",
          "bind": [{"settings:storage.volumes_lvm.value": true}]
        },
        {
          "data": "ceph",
          "label": "dialog.create_cluster_wizard.storage.ceph",
          "restrictions": {
            "depends": [{
              "condition": {"NameAndRelease.release__roles": "ceph-osd"},
              "warning": "dialog.create_cluster_wizard.storage.alert"
            }]
          },
          "bind": [{"settings:storage.volumes_ceph.value": true}]
        }
      ]
    },
    "glance": {
      "type": "radio",
      "value": "default",
      "values": [
        {
          "data": "default",
          "label": "dialog.create_cluster_wizard.storage.default"
        },
        {
          "data": "ceph",
          "label": "dialog.create_cluster_wizard.storage.ceph",
          "restrictions": {
            "depends": [{
              "condition": {"NameAndRelease.release__roles": "ceph-osd"},
              "warning": "dialog.create_cluster_wizard.storage.alert"
            }]
          },
          "bind": [{"settings:storage.images_ceph.value": true}]
        }
      ]
    }
  },
  "AdditionalServices": {
    "sahara": {
      "type": "checkbox",
      "label": "dialog.create_cluster_wizard.additionalservices.install_sahara",
      "description": "dialog.create_cluster_wizard.additionalservices.install_sahara_description",
      "bind": "settings:additional_components.sahara.value",
      "weight": 10,
      "restrictions": {
        "conflicts": [{
          "condition": {"NameAndRelease.release__operating_system": "RHEL"},
          "warning": "dialog.create_cluster_wizard.network.alert"
        }]
      }
    },
    "murano": {
      "type": "checkbox",
      "label": "dialog.create_cluster_wizard.additionalservices.install_murano",
      "description": "dialog.create_cluster_wizard.additionalservices.install_murano_description",
      "bind": "settings:additional_components.murano.value",
      "weight": 20,
      "restrictions": {
        "conflicts": [
          {
            "condition": {"NameAndRelease.release__operating_system": "RHEL"},
            "warning": "dialog.create_cluster_wizard.network.alert"
          },
          {
            "condition": {"Network.manager": "nova-network"},
            "warning": "dialog.create_cluster_wizard.network.alert"
          }
        ]
      }
    },
    "ceilometer": {
      "type": "checkbox",
      "label": "dialog.create_cluster_wizard.additionalservices.install_ceilometer",
      "description": "dialog.create_cluster_wizard.additionalservices.install_ceilometer_description",
      "bind": "settings:additional_components.ceilometer.value",
      "weight": 30,
      "restrictions": {
        "conflicts": [{
          "condition": {"NameAndRelease.release__operating_system": "RHEL"},
          "warning": "dialog.create_cluster_wizard.network.alert"
        }]
      }
    }
  },
  "Ready": {}
}