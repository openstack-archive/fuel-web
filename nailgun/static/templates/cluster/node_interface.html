<div class="clearfix"></div>

<% var slaveInterfaces = [] %>
<div class="physical-network-box" data-name="<%- ifc.get('name') %>">
  <div class="network-box-item">
    <% if (ifc.isBond()) { %>
      <% var slaveInterfaceNames = _.pluck(ifc.get('slaves'), 'name') %>
      <% slaveInterfaces = ifc.collection.filter(function(slaveInterface) {return _.contains(slaveInterfaceNames, slaveInterface.get('name'))}) %>
      <div class="network-box-name">
        <label>
          <div class="pull-left">
            <div class="custom-tumbler network-bond-name-checkbox">
              <input type="checkbox">
              <!-- [if !IE |(gte IE 9)]> --><span>&nbsp;</span><!-- <![endif] -->
            </div>
          </div>
          <div class="network-bond-name pull-left"><%- ifc.get('name') %></div>
        </label>
        <div class="network-bond-mode pull-right">
          <b><%- $.t('cluster_page.nodes_tab.configure_interfaces.mode') %>:</b>
          <span>
            <select name="mode"></select>
          </span>
        </div>
        <div class="clearfix"></div>
      </div>

      <div class="physical-network-checkbox"></div>
    <% } else { %>
      <% slaveInterfaces = [ifc] %>
      <div class="physical-network-checkbox">
        <% var bondable = bondingAvailable && !ifc.get('assigned_networks').find(function(interfaceNetwork) {return interfaceNetwork.getFullNetwork().get('meta').unmovable}) %>
        <% if (bondable) { %>
          <label>
            <div class="custom-tumbler">
              <input type="checkbox">
              <!-- [if !IE |(gte IE 9)]> --><span>&nbsp;</span><!-- <![endif] -->
            </div>
          </label>
        <% } %>
      </div>
    <% } %>

    <div class="network-connections-block">
      <% _.each(slaveInterfaces, function(slaveInterface) { %>
        <div class="network-interfaces-status">
          <div class="interface-<%= slaveInterface.get('state') != 'down' ? 'online' : 'offline'%>"></div>
          <div class="network-interfaces-name"><%- slaveInterface.get('name') %></div>
        </div>
      <% }) %>
    </div>

    <div class="network-connections-info-block">
      <% _.each(slaveInterfaces, function(slaveInterface) { %>
        <div class="network-connections-info-block-item">
          <div class="network-connections-info-position"></div>
          <div class="network-connections-info-description">
            <div>MAC: <%- slaveInterface.get('mac') %></div>
            <div><%- $.t('cluster_page.nodes_tab.configure_interfaces.speed') %>: <%- showBandwidth(slaveInterface.get('current_speed')) %></div>
          </div>
        </div>
      <% }) %>
    </div>

    <div class="logical-network-box">
      <div class="logical-network-group">
        <% ifc.get('assigned_networks').each(function(interfaceNetwork) { %>
          <% var networkName = interfaceNetwork.get('name') %>
          <% var network = interfaceNetwork.getFullNetwork() %>
          <% if (networkName != 'floating') { %>
            </div><div class="logical-network-group <%= network.get('meta').unmovable ? 'disabled' : '' %>">
          <% } %>
          <div class="logical-network-item" data-name="<%- networkName %>">
            <div class="name"><%- $.t('network.' + networkName, {defaultValue: networkName}) %></div>
            <div class="id">
            <% if (network.get('vlan_start')) { %>
              <% if (network.get('amount') == 1) { %>
                VLAN ID: <%- network.get('vlan_start') %>
              <% } else { %>
                VLAN IDs: <%- network.get('vlan_start') %>-<%- network.get('vlan_start') + network.get('amount') - 1 %>
              <% } %>
            <% } else if (network.get('meta').neutron_vlan_range) { %>
              <%- $.t('cluster_page.nodes_tab.configure_interfaces.neutron_vlan_range') %>
            <% } %>
            </div>
          </div>
        <% }) %>
      </div>
      <div class="network-help-message hide" data-i18n="cluster_page.nodes_tab.configure_interfaces.drag_and_drop_description"></div>
    </div>
  </div>
</div>
<div class="network-box-error-message common enable-selection">&nbsp;</div>
