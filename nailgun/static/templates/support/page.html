<div class="row-fluid">
  <div class="span12">
    <h3 class="page-title" data-i18n="support_page.title">Support</h3>
  </div>
</div>

<div class="support page-wrapper">

  <div class="row-fluid">
    <div class="span2"><div class="img-register-fuel"></div></div>
    <div class="span10">
      <h4>Register FUEL</h4>
      <p>
        Registering will ensure that you receive important notifications about issues and new versions of Fuel. In addition, you will receive access to our basic support services for the next 30 days!
      </p>
      <p>
        <a class="btn registration-link" href="" target="_blank">Register Fuel</a>
      </p>
    </div>
  </div>

  <hr>

  <div class="row-fluid">
    <div class="span2"><div class="img-contact-support"></div></div>
    <div class="span10">
      <h4>Contact Support</h4>
      <p data-i18n="support_page.contact_text">
        Do not hesitate to report a problem or suggest an improvement by clicking the button below. We will get back to you as soon as possible.
      </p>
      <p data-i18n="support_page.irc_text">If you have any questions, you can reach out developers at IRC channel <strong>#openstack-fuel</strong> on <a href="http://freenode.net" target="_blank">freenode.net</a>.
      </p>
      <p>
        <a class="btn" href="https://mirantis.zendesk.com/requests/new" target="_blank" data-i18n="support_page.contact_support">Contact support</a>
      </p>
    </div>
  </div>

  <hr>

  <div class="row-fluid">
    <div class="span2"><div class="img-download-logs"></div></div>
    <div class="span10">
      <h4>Download Diagnostic Snapshot</h4>
      <p data-i18n="support_page.log_text">
        If you have encountered some bugs or errors while using Fuel, you may also need to provide the support team with Fuel logs. You can download them by clicking the button below.
      </p>
      <p>
          <%  var task = this.logsPackageTasks.findTask({name: 'dump'});
              var taskCompleted = !_.isUndefined(task) && task.get('progress') == 100;
          %>

          <% if (!_.isNull(tasks.deferred)) { %>
            <button class="btn download-logs-progress disabled">Loading...</button>
          <% } else { %>
            <button class="btn download-logs">Generate diagnostic snapshot</button>
          <% } %>

          <button class="btn genereate-logs hide disabled">Generating logs snapshot...</button>
          
          <% if (taskCompleted && task.get('status') == 'ready') { %>
          <span class="donwload-logs-link" style="margin-left: 10px;">
            <a href="<%- task.get('message') %>"><i class="icon-install"></i>Diagnostic Snapshot</a>
          </span>
          <% } %>

          <% if (taskCompleted && task.get('status') == 'error') { %>
          <span class="error download-logs-error"><%- task.get('message') %></span>
          <% } %>
      </p>
    </div>
  </div>

  <hr>

  <div class="row-fluid">
    <div class="span2"><div class="img-audit-logs"></div></div>
    <div class="span10">
      <h4>Capacity Audit</h4>
      <p>
         View and download capacity log.
      </p>
      <p>
        <a class="btn" href="#capacity">View Capacity Audit</a>
      </p>
    </div>
  </div>
</div>
